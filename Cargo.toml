[package]
name = "bms-rs"
version = "0.10.2"
authors = ["MikuroXina <ryosukadnak@gmail.com>"]
edition = "2024"
description = "The BMS format parser."
license = "Apache-2.0"
keywords = ["bms", "parser"]
categories = ["parsing"]
repository = "https://github.com/MikuroXina/bms-rs"
documentation = "https://docs.rs/bms-rs/latest/bms_rs/"

[package.metadata.docs.rs]
all-features = true
rustdoc-args = ["--cfg", "docsrs"]

[features]
default = ["bmson", "rand", "diagnostics"]
serde = ["dep:serde", "num/serde", "fraction/with-serde-support"]
bmson = ["serde", "serde_json", "serde_path_to_error", "chumsky"]
rand = ["dep:rand"]
diagnostics = ["dep:ariadne"]

[dependencies]
itertools = "0.14"
num = "0.4"
fraction = "0.15"
serde = { version = "1", features = ["derive"], optional = true }
serde_json = { version = "1", optional = true }
serde_path_to_error = { version = "0.1", optional = true }
thiserror = "2"
rand = { version = "0.9", optional = true }
ariadne = { version = "0.5", optional = true }
chumsky = { version = "0.11", optional = true, features = ["serde"] }

[dev-dependencies]
pretty_assertions = "1"

[[example]]
name = "diagnostics_example"
required-features = ["diagnostics"]

[[example]]
name = "comprehensive_diagnostics"
required-features = ["diagnostics"]
